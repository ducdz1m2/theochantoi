<header class="site-header">
  <!-- fontawesome (icon) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/6.6.6/css/flag-icons.min.css">

  <div class="header-wrapper">
    <!-- hidden checkbox (hamburger toggle) -->
    <input type="checkbox" id="nav-trigger" class="nav-checkbox" />

    <!-- hamburger label -->
    <label for="nav-trigger" class="menu-label" aria-label="Toggle navigation">
      <span class="menu-icon" aria-hidden="true"></span>
    </label>

    <!-- site title -->
    <a class="site-title" rel="author" href="{{ '/' | relative_url }}">{{ site.title | escape }}</a>

    <!-- nav (center) -->
    {%- assign default_paths = site.pages | map: "path" -%}
    {%- assign page_paths = site.minima.nav_pages | default: default_paths -%}
    {%- assign page_titles = site.pages | map: 'title' | compact %} 
    {%- unless page_titles == empty %}
    <nav class="site-nav" role="navigation" aria-label="Main navigation">
      <ul class="nav-items">
        {% include nav-items.html paths = page_paths %}
      </ul>
    </nav>
    {%- endunless %}

    <!-- theme toggle -->
    <button id="theme-toggle" class="theme-btn" aria-label="Toggle theme" aria-pressed="false">
      <i class="fas fa-moon" aria-hidden="true"></i>
    </button>

<!-- language switcher -->
<div class="language-switcher">
  <button class="lang-toggle" aria-label="Đổi ngôn ngữ">
    <span class="fi fi-gb"></span> <!-- mặc định English -->
    <i class="fas fa-chevron-down"></i>
  </button>
  <ul class="lang-menu">
    <li onclick="changeLanguage('vi')"><span class="fi fi-vn"></span> Tiếng Việt</li>
    <li onclick="changeLanguage('en')"><span class="fi fi-gb"></span> English</li>
    <li onclick="changeLanguage('ja')"><span class="fi fi-jp"></span> 日本語</li>
    <li onclick="changeLanguage('ko')"><span class="fi fi-kr"></span> 한국어</li>
    <li onclick="changeLanguage('fr')"><span class="fi fi-fr"></span> Français</li>
    <li onclick="changeLanguage('de')"><span class="fi fi-de"></span> Deutsch</li>
  </ul>
</div>


  </div>

  <!-- favicons / css / js -->
  <link rel="icon" href="{{ '/favicon.ico' | absolute_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
  <script src="{{ '/assets/js/theme.js' | relative_url }}" defer></script>
  <script>
document.addEventListener("DOMContentLoaded", function() {
  // Lấy ngôn ngữ mặc định từ trình duyệt
  let userLang = navigator.language || navigator.userLanguage; 
  // Ví dụ trả về "vi-VN" hoặc "en-US"
  
  if (userLang.startsWith("vi")) {
    changeLanguage("vi");
  } else {
    changeLanguage("en");
  }
});
</script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  const switcher = document.querySelector(".language-switcher");
  const toggleBtn = switcher.querySelector(".lang-toggle");

  toggleBtn.addEventListener("click", () => {
    switcher.classList.toggle("open");
  });

  // click ra ngoài thì đóng
  document.addEventListener("click", (e) => {
    if (!switcher.contains(e.target)) {
      switcher.classList.remove("open");
    }
  });
});
</script>

</header>
